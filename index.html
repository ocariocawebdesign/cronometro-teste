<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cronômetro Decrescente</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div
      class="mt-4 mb-4 w-50"
      style="
        display: flex;
        width: 100%;
        height: 100%;
        flex-direction: column;
        margin-left: 4.6rem;
      "
    >
      <span class="text-center" id="countdown"></span>
    </div>
    <div class="container">
      <script src="https://gist.github.com/ocariocawebdesign/0c6c5b254473a31f53e3fe544df02901.js"></script>
    </div>

    <script>
      function updateCountdown() {
        /*Array diasDaSemana = [
  "Domingo", = 0
  "Segunda-feira", 1
  "Terça-feira", = 2
  "Quarta-feira", = 3
  "Quinta-feira", = 4
  "Sexta-feira", = 5
  "Sábado", = 6
];*/

        const dataAtual = new Date();
        //console.log(dataAtual);
        const diaAtual = dataAtual.getDay();
        const horaAtual = dataAtual.getHours();
        const minutoAtual = dataAtual.getMinutes();
        const segundoAtual = dataAtual.getSeconds();

        const terca = 2; // Representa terça-feira no indice
        const resetarHora = 20;
        const resetarMinuto = 0;
        const resetarSegundo = 0;

        if (
          diaAtual === terca &&
          horaAtual === resetarHora &&
          minutoAtual === resetarMinuto &&
          segundoAtual === resetarSegundo
        ) {
          // Se for terça-feira às 20:00:00, reinicie o cronômetro
          clearInterval(interval);
          startCountdown();
          return;
        }

        // Calcula o tempo restante até a próxima terça-feira às 20:00:00
        let timeRemaining = 0;
        if (
          diaAtual < terca ||
          (diaAtual === terca &&
            (horaAtual < resetarHora ||
              (horaAtual === resetarHora && minutoAtual < resetarMinuto)))
        ) {
          timeRemaining =
            ((terca - diaAtual + 7) % 7) * 24 * 3600 +
            (resetarHora - horaAtual) * 3600 +
            (resetarMinuto - minutoAtual) * 60 +
            (resetarSegundo - segundoAtual);
        } else {
          timeRemaining =
            ((terca - diaAtual + 7) % 7) * 24 * 3600 +
            (resetarHora - horaAtual) * 3600 +
            (resetarMinuto - minutoAtual) * 60 +
            (resetarSegundo - segundoAtual);
        }

        const dias = Math.floor(timeRemaining / (3600 * 24));
        const horas = Math.floor((timeRemaining % (3600 * 24)) / 3600);
        const minutos = Math.floor((timeRemaining % 3600) / 60);
        const segundos = Math.floor(timeRemaining % 60);

        document.getElementById(
          "countdown"
        ).innerHTML = `<div class="" style="display:flex; width:100%; justify-content:center; align-items: flex-start;">
<div style="display:flex; justify-content:center; flex-direction:column; margin-right:2.8rem"><span style=" text-align: center;
display: block; font-size:2rem; 
">${dias}</span> 
      <span style="white-space: nowrap;
          word-break: break-word;
          margin-top: 0;
          font-weight: 600;
          font-size: 0.8rem;
          text-transform: uppercase;
          color: rgba(0,0,0,1);">
             DIAS </span>
  </div>

<div style="display:flex; justify-content:center; flex-direction:column; margin-right:2.8rem"><span style=" text-align: center;
display: block; font-size:2rem;
">${horas} </span>
  <span
  style="white-space: nowrap;
          word-break: break-word;
          margin-top: 0;
          font-weight: 600;
          font-size: 0.8rem;
          text-transform: uppercase;
          color: rgba(0,0,0,1);">HORAS</span> 
  </div>

  <div style="display:flex; justify-content:center; flex-direction:column; margin-right:2.8rem"><span style=" text-align: center;
display: block; font-size:2rem;
">${minutos}</span>
    <span style="white-space: nowrap;
          word-break: break-word;
          margin-top: 0;
          font-weight: 600;
          font-size: 0.8rem;
          text-transform: uppercase;
          color: rgba(0,0,0,1);"> MINUTOS </span>
    </div>

    <div style="display:flex; justify-content:center; flex-direction:column; margin-right:2.8rem"><span style=" text-align: center;
display: block; font-size:2rem;
">${segundos}</span>
       <span style="white-space: nowrap;
          word-break: break-word;
          margin-top: 0;
          font-weight: 600;
          font-size: 0.8rem;
          text-transform: uppercase;
          color: rgba(0,0,0,1);">SEGUNDOS</span>
       </div>
</div>`;
      }

      function startCountdown() {
        interval = setInterval(updateCountdown, 1000);
      }

      startCountdown();
    </script>
    <!--<script src="./cronometro.js"></script>-->
  </body>
</html>
