<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cronômetro Decrescente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-4">
        <br/>
        Cronômetro de teste
        <h1 style="background-color: red; padding: 2rem; color:#FFFFFF;" class="text-center " id="countdown"></h1>
    </div>

    <script>



function updateCountdown() {
            const currentDate = new Date();
            const currentDay = currentDate.getDay();
            const currentHour = currentDate.getHours();
            const currentMinute = currentDate.getMinutes();
            const currentSecond = currentDate.getSeconds();

            // Define o dia da semana para terça-feira (terça-feira é 2 no JavaScript, onde domingo é 0)
            const tuesday = 2;

            // Define a hora de reinício para 20:00:00
            const restartHour = 20;
            const restartMinute = 0;
            const restartSecond = 0;

            if (currentDay === tuesday && currentHour === restartHour && currentMinute === restartMinute && currentSecond === restartSecond) {
                // Se for terça-feira às 20:00:00, reinicie o cronômetro
                clearInterval(interval);
                startCountdown();
                return;
            }

            // Calcula o tempo restante até a próxima terça-feira às 20:00:00
            let timeRemaining = 0;
            if (currentDay < tuesday || (currentDay === tuesday && (currentHour < restartHour || (currentHour === restartHour && currentMinute < restartMinute)))) {
                // Se for antes de terça-feira às 20:00:00, calcula o tempo restante no mesmo dia
                timeRemaining = (restartHour - currentHour) * 3600 +
                    (restartMinute - currentMinute) * 60 +
                    (restartSecond - currentSecond);
            } else {
                // Se for depois de terça-feira às 20:00:00, calcula o tempo restante até a próxima terça-feira
                const daysUntilTuesday = (tuesday + 7 - currentDay) % 7;
                timeRemaining = (daysUntilTuesday * 24 + restartHour - currentHour) * 3600 +
                    (restartMinute - currentMinute) * 60 +
                    (restartSecond - currentSecond);
            }

            // Converte o tempo restante em horas, minutos e segundos
            const hours = Math.floor(timeRemaining / 3600);
            const minutes = Math.floor((timeRemaining % 3600) / 60);
            const seconds = Math.floor(timeRemaining % 60);

            // Exibe o tempo restante no elemento com id "countdown"
            document.getElementById("countdown").textContent = `Tempo restante: ${hours}h ${minutes}m ${seconds}s`;
        }

        function startCountdown() {
            // Atualiza o cronômetro a cada segundo
            interval = setInterval(updateCountdown, 1000);
        }

        // Inicializa o cronômetro
        startCountdown();

    </script>
    <script src="./main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
